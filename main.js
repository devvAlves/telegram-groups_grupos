// DicionÃ¡rio de traduÃ§Ãµes
const translations = {
            pt: {
                metaTitle: "ğŸ”¥ Packs VIP: Larissa Manoela, Key Alves, Mel Maia e Mais no Telegram Putarias ğŸ”¥",
                metaDescription: "Acesso VIP aos packs e vÃ­deos de Larissa Manoela, Key Alves, Mel Maia, MC Mirella e outras. ConteÃºdo do OnlyFans e Privacy direto no seu Telegram. Entre no grupo mais quente.",
                mainHeadline: "ğŸ”¥ Acesso Proibido ao ConteÃºdo VIP +18 ğŸ”¥",
                subHeadline: "Os melhores Packs de Famosas, vÃ­deos de OnlyFans e nudes do Privacy que os donos da internet nÃ£o querem que vocÃª veja. Tudo no nosso grupo Telegram, sem censura.",
                ctaHero: "ğŸ‘‰ QUERO ACESSO VIP AGORA ğŸ‘ˆ",
                seeMore: "ğŸ‘‡Ver mais detalhesğŸ‘‡",
                previewTitle: "Uma PrÃ©via dos Packs e VÃ­deos VIP...",
                preview1: "PACKS DE NOVINHAS",
                preview2: "ONLYFANS VAZADOS",
                preview3: "PRIVACY SEM CENSURA",
                socialProofTitle: "NÃ£o seja o Ãºltimo otÃ¡rio a entrar no grupo.",
                socialProofSubtitle: "Junte-se aos <span class='text-red-500 font-bold'>+127.451</span> membros VIPs.",
                accessesLeft: "ğŸ”¥ ACESSOS RESTANTES: <span id='countdown'>07</span> ğŸ”¥",
                lastPayment: "âœ… Ãšltimo pagamento confirmado via Pix Ã s <span id='pix-time'>10:45</span>",
                testimonial1Text: "Mano, melhor grupo de packs da vida. Cancelei todas as outras assinaturas. Isso aqui Ã© outro nÃ­vel de conteÃºdo adulto.",
                testimonial1Author: "- Lucas S., Membro VIP",
                testimonial2Text: "Puta que pariu, tem vÃ­deo do OnlyFans aqui que eu nem sabia que existia. Valeu cada centavo, porra!",
                testimonial2Author: "- Fernando R., Membro desde 2023",
                ctaExtra: "ğŸ‘‰ QUERO ACESSO IMEDIATO AOS PACKS ğŸ‘ˆ",
                mostWantedTitle: "OS PACKS MAIS PROCURADOS",
                mostWantedSubtitle: "Acesso imediato ao conteÃºdo que todos querem ver.",
                mostWantedNames: ["Larissa Manoela", "Key Alves", "Mel Maia", "MC Mirella", "Tati Zaqui", "Geisy Arruda", "E MUITO MAIS..."],
                comparisonTitle: "A ESCOLHA Ã‰ TUA, MANO.",
                tableBenefit: "BenefÃ­cio",
                tableFree: "FREE (VocÃª agora)",
                tableVIP: "VIP (Elite)",
                benefit1: "Packs Vazados semanais",
                benefit2: "Influencers exclusivas",
                benefit3: "VÃ­deos \"Caiu na Net\"",
                benefit4: "ConteÃºdo Privacy",
                benefit5: "Acesso a Packs de Famosas",
                benefit6: "ConteÃºdo exclusivo de Novinhas",
                benefit7: "AtualizaÃ§Ãµes diÃ¡rias",
                benefit8: "Acesso vitalÃ­cio",
                benefit9: "Suporte privado",
                faqTitle: "DÃšVIDAS ANTES DE METER O LOUCO?",
                faq1Title: "O que eu vou receber no acesso VIP?",
                faq1Answer: "Acesso total e irrestrito ao nosso canal VIP no Telegram com tudo que tem direito. Packs, vÃ­deos, nudes, o caralho a quatro. Atualizado TODO DIA.",
                faq2Title: "Como faÃ§o o pagamento?",
                faq2Answer: "Clicando no botÃ£o, tu vai ser direcionado. Pix, cartÃ£o, boleto... a gente aceita atÃ© tua alma.",
                faq3Title: "O acesso ao grupo de Telegram Ã© sigiloso?",
                faq3Answer: "100% Discreto, irmÃ£o. NinguÃ©m vai saber que tu Ã© um tarado. Fica sÃ³ entre nÃ³s.",
                faq4Title: "Tem garantia?",
                faq4Answer: "ğŸš¨ Garantia de 7 dias: se nÃ£o tiver putaria de qualidade, a gente devolve teu dinheiro. Simples assim.",
                ctaFooter: "ğŸ” NÃƒO PERCA - ENTRE AGORA ğŸ”",
                urgencyText: "ğŸ”¥ ÃšLTIMAS HORAS",
                peopleWatching: "+847 pessoas visualizando agora",
                immediateAccess: "âœ… ACESSO IMEDIATO",
                secureTelegram: "Via Telegram seguro",
                popupEnter: "acabou de entrar no grupo VIP!",
                pageExpires: "â° Esta pÃ¡gina expira em",
                // Novas traduÃ§Ãµes para notificaÃ§Ãµes
                notifications: [
                    "ğŸ”¥ Carlos M. acabou de garantir acesso VIP",
                    "ğŸ’ Ana R. entrou no grupo hÃ¡ 2 minutos", 
                    "âš¡ Pedro S. confirmou pagamento agora",
                    "ğŸš€ Mariana L. desbloqueou conteÃºdo exclusivo"
                ],
                soldOut: "ESGOTADO!",
                // Links especÃ­ficos para portuguÃªs
                links: {
                    hero: "https://t.me/postv2rog_bot?start=via_site",
                    mid: "https://t.me/postv2rog_bot?start=via_site_mid",
                    footer: "https://t.me/postv2rog_bot?start=via_site_footer",
                    popup: "https://t.me/postv2rog_bot?start=via_site_popup"
                }
            },
            en: {
                metaTitle: "ğŸ”¥ VIP Packs: Belle Delphine, Amouranth, Corinna Kopf and More on Telegram Premium ğŸ”¥",
                metaDescription: "VIP access to packs and videos of Belle Delphine, Amouranth, Corinna Kopf, Pokimane and others. OnlyFans and exclusive content directly on your Telegram. Join the hottest group.",
                mainHeadline: "ğŸ”¥ Forbidden Access to VIP Content +18 ğŸ”¥",
                subHeadline: "The best Celebrity Packs, OnlyFans videos and exclusive nudes that internet owners don't want you to see. Everything in our Telegram group, uncensored.",
                ctaHero: "ğŸ‘‰ I WANT VIP ACCESS NOW ğŸ‘ˆ",
                seeMore: "ğŸ‘‡See more detailsğŸ‘‡",
                previewTitle: "A Preview of VIP Packs and Videos...",
                preview1: "YOUNG GIRL PACKS",
                preview2: "LEAKED ONLYFANS",
                preview3: "UNCENSORED PREMIUM",
                socialProofTitle: "Don't be the last sucker to join the group.",
                socialProofSubtitle: "Join <span class='text-red-500 font-bold'>+127,451</span> VIP members.",
                accessesLeft: "ğŸ”¥ REMAINING ACCESS: <span id='countdown'>07</span> ğŸ”¥",
                lastPayment: "âœ… Last payment confirmed via Card at <span id='pix-time'>10:45</span>",
                testimonial1Text: "Dude, best pack group ever. Cancelled all other subscriptions. This is another level of adult content.",
                testimonial1Author: "- Lucas S., VIP Member",
                testimonial2Text: "Holy shit, there's OnlyFans video here that I didn't even know existed. Worth every penny, damn!",
                testimonial2Author: "- Fernando R., Member since 2023",
                ctaExtra: "ğŸ‘‰ I WANT IMMEDIATE ACCESS TO THE PACKS ğŸ‘ˆ",
                mostWantedTitle: "THE MOST WANTED PACKS",
                mostWantedSubtitle: "Instant access to the content everyone wants to see.",
                mostWantedNames: ["Belle Delphine", "Amouranth", "Corinna Kopf", "Pokimane", "Addison Rae", "Tana Mongeau", "AND MANY MORE..."],
                comparisonTitle: "THE CHOICE IS YOURS, DUDE.",
                tableBenefit: "Benefit",
                tableFree: "FREE (You now)",
                tableVIP: "VIP (Elite)",
                benefit1: "Weekly Leaked Packs",
                benefit2: "Exclusive Influencers",
                benefit3: "\"Leaked\" Videos",
                benefit4: "Premium Content",
                benefit5: "Access to Celebrity Packs",
                benefit6: "Exclusive Young Girl Content",
                benefit7: "Daily Updates",
                benefit8: "Lifetime Access",
                benefit9: "Private Support",
                faqTitle: "DOUBTS BEFORE GOING CRAZY?",
                faq1Title: "What will I receive in VIP access?",
                faq1Answer: "Total and unrestricted access to our VIP Telegram channel with everything you deserve. Packs, videos, nudes, the whole damn thing. Updated EVERY DAY.",
                faq2Title: "How do I make the payment?",
                faq2Answer: "By clicking the button, you'll be redirected. Card, PayPal, crypto... we accept even your soul.",
                faq3Title: "Is Telegram group access confidential?",
                faq3Answer: "100% Discreet, brother. No one will know you're a pervert. It stays between us.",
                faq4Title: "Is there a guarantee?",
                faq4Answer: "ğŸš¨ 7-day guarantee: if there's no quality content, we'll refund your money. Simple as that.",
                ctaFooter: "ğŸ” JOIN VIP GROUP NOW ğŸ”",
                urgencyText: "ğŸ”¥ LAST HOURS",
                peopleWatching: "+847 people watching now",
                immediateAccess: "âœ… IMMEDIATE ACCESS",
                secureTelegram: "Via secure Telegram",
                popupEnter: "just joined the VIP group!",
                pageExpires: "â° This page expires in",
                // Novas traduÃ§Ãµes para notificaÃ§Ãµes em inglÃªs
                notifications: [
                    "ğŸ”¥ John D. just secured VIP access",
                    "ğŸ’ Sarah M. joined the group 2 minutes ago",
                    "âš¡ Mike R. confirmed payment now", 
                    "ğŸš€ Emma K. unlocked exclusive content"
                ],
                soldOut: "SOLD OUT!",
                // Links especÃ­ficos para inglÃªs
                links: {
                    hero: "https://t.me/postv2rog_bot?start=via_site",
                    mid: "https://t.me/postv2rog_bot?start=via_site_mid",
                    footer: "https://t.me/postv2rog_bot?start=via_site_footer",
                    popup: "https://t.me/postv2rog_bot?start=via_site_popup"
                }
            }
        };

// FunÃ§Ã£o para configurar o idioma
function setLanguage(lang) {
    if (!translations[lang]) lang = 'pt';
    document.documentElement.lang = lang;

    const trans = translations[lang];
    document.title = trans.metaTitle;
    document.getElementById('meta-title').textContent = trans.metaTitle;
    document.getElementById('meta-description').setAttribute('content', trans.metaDescription);

    document.querySelectorAll('a[href*="t.me"]').forEach(link => {
        const href = link.getAttribute('href');
        link.href = trans.links[href.includes('via_site_footer') ? 'footer' : href.includes('via_site_mid') ? 'mid' : href.includes('via_site_popup') ? 'popup' : 'hero'];
    });

    const mostWantedContainer = document.getElementById('most-wanted-container');
    if (mostWantedContainer && trans.mostWantedNames) {
        mostWantedContainer.innerHTML = '';
        trans.mostWantedNames.forEach(name => {
            const span = document.createElement('span');
            span.className = 'bg-red-800 text-white font-bold py-2 px-4 rounded-full text-lg';
            span.textContent = name;
            mostWantedContainer.appendChild(span);
        });
    }

    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (trans[key]) el.innerHTML = trans[key];
    });
}

// FunÃ§Ã£o para inicializar a pÃ¡gina
function initializePage() {
    const params = new URLSearchParams(window.location.search);
    const langParam = params.get('lang');
    const initialLang = langParam && translations[langParam] ? langParam : (navigator.language || navigator.userLanguage).split('-')[0];
    setLanguage(translations[initialLang] ? initialLang : 'pt');

    document.querySelectorAll('.lang-switcher').forEach(button => {
        button.addEventListener('click', e => {
            const lang = e.target.getAttribute('data-lang');
            setLanguage(lang);
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.pushState({}, '', url);
        });
    });

    updateScarcityDisplay();
    createDynamicScarcity();
    createSmartNotifications();
}

// FunÃ§Ã£o para criar escassez dinÃ¢mica
function createDynamicScarcity() {
    const scarcityElement = document.getElementById('countdown');
    if (!scarcityElement) return;

    let userSlots = localStorage.getItem('available_slots') || Math.floor(Math.random() * 5) + 3;
    localStorage.setItem('available_slots', userSlots);

    setInterval(() => {
        if (userSlots > 1) {
            userSlots--;
            localStorage.setItem('available_slots', userSlots);
            updateScarcityDisplay();
        }
    }, 30000);
}

// FunÃ§Ã£o para atualizar o contador de escassez
function updateScarcityDisplay() {
    const scarcityElement = document.getElementById(`countdown-${document.documentElement.lang}`);
    if (!scarcityElement) return;

    const userSlots = localStorage.getItem('available_slots');
    scarcityElement.textContent = userSlots > 0 ? userSlots.toString().padStart(2, '0') : translations[document.documentElement.lang].soldOut || "ESGOTADO!";
}

// FunÃ§Ã£o para criar notificaÃ§Ãµes dinÃ¢micas
function createSmartNotifications() {
    const notifications = {
        pt: [
            "ğŸ”¥ Carlos M. garantiu acesso VIP",
            "âš¡ Pedro S. confirmou pagamento agora",
            "ğŸ”¥ JoÃ£o P. fez upgrade para VIP",
            "âš¡ Rafael T. confirmou pagamento via Pix"
        ],
        en: [
            "ğŸ”¥ John D. just secured VIP access",
            "âš¡ Mike R. confirmed payment now",
            "ğŸ”¥ Chris P. upgraded to VIP",
            "âš¡ David S. paid successfully"
        ]
    };

    function showNotification() {
        const lang = document.documentElement.lang || 'pt';
        const messages = notifications[lang];
        const randomMsg = messages[Math.floor(Math.random() * messages.length)];

        const notification = document.createElement('div');
        notification.className = 'fixed bottom-5 left-5 bg-gray-800 border border-red-700 text-white text-sm p-4 rounded-lg shadow-lg z-50 animate__animated animate__slideInLeft';
        notification.innerHTML = `<div class="flex items-center space-x-2"><div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div><span>${randomMsg}</span></div>`;
        document.body.appendChild(notification);

        setTimeout(() => {
            notification.classList.add('animate__slideOutLeft');
            setTimeout(() => notification.remove(), 500);
        }, 4000);
    }

    let interval = 15000;
    setInterval(() => {
        showNotification();
        interval = Math.max(8000, interval - 1000);
    }, interval);
}

// FunÃ§Ã£o para atualizar a barra de progresso
function updateProgressBar() {
    const progressBar = document.querySelector('#cta-popup .progress-bar .progress');
    if (progressBar) {
        let progress = parseInt(progressBar.style.width) || 50; // Progresso inicial
        progress = Math.min(progress + 10, 100); // Incrementa atÃ© 100%
        progressBar.style.width = `${progress}%`;

        // Opcional: fechar popup quando progresso atingir 100%
        if (progress === 100) {
            document.getElementById('cta-popup').classList.add('hidden');
        }
    }
}

// Exemplo: Atualizar barra de progresso a cada 2 segundos
setInterval(updateProgressBar, 2000);

// FunÃ§Ã£o para centralizar popups em dispositivos mÃ³veis
function adjustPopupPosition() {
    const popup = document.getElementById('cta-popup');
    if (popup) {
        const popupContent = popup.querySelector('.bg-white');
        if (popupContent) {
            const viewportHeight = window.innerHeight;
            const popupHeight = popupContent.offsetHeight;
            popupContent.style.marginTop = `${Math.max((viewportHeight - popupHeight) / 2, 10)}px`;
        }
    }
}

// FunÃ§Ã£o para ajustar toasts em dispositivos mÃ³veis
function adjustToastPosition() {
    const toasts = document.querySelectorAll('.fixed.bottom-5');
    toasts.forEach(toast => {
        toast.style.left = '10px'; // Garante que o toast nÃ£o fique fora da tela
        toast.style.right = '10px';
    });
}

// Atualizar posiÃ§Ãµes ao redimensionar a janela
window.addEventListener('resize', () => {
    adjustPopupPosition();
    adjustToastPosition();
});

// FunÃ§Ã£o para exibir o popup CTA
function showPopup() {
    const popup = document.getElementById('cta-popup');
    if (popup) {
        popup.classList.add('active');
    }
}

// FunÃ§Ã£o para fechar o popup CTA
function closePopup() {
    const popup = document.getElementById('cta-popup');
    if (popup) {
        popup.classList.remove('active');
    }
}

// Adicionar evento ao botÃ£o de fechar
document.addEventListener('DOMContentLoaded', () => {
    const closeButton = document.getElementById('close-cta-popup');
    if (closeButton) {
        closeButton.addEventListener('click', closePopup);
    }

    // Exibir o popup ao chegar na seÃ§Ã£o "SEÃ‡ÃƒO TABELA COMPARATIVA"
    const tableSection = document.querySelector('section#comparisonTitle');
    if (tableSection) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    showPopup();
                }
            });
        }, { threshold: 0.5 }); // Exibir quando 50% da seÃ§Ã£o estiver visÃ­vel
        observer.observe(tableSection);
    }
});

// Chamar ajustes ao carregar a pÃ¡gina
document.addEventListener('DOMContentLoaded', () => {
    adjustPopupPosition();
    adjustToastPosition();
    // Inicializar a pÃ¡gina
    initializePage();
});
